<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:scanner="clr-namespace:BarcodeScanning;assembly=BarcodeScanning.Native.Maui"
             xmlns:local="clr-namespace:BusinessSmartMobile.Components.BarcodeReader"
             x:Class="BusinessSmartMobile.Components.BarcodeReader.BarcodeReaderComponent"
             Title="BarcodeReaderComponent">
    <ContentPage.Resources>
        <ResourceDictionary>
            <local:StringNotNullConverter x:Key="StringNotNullConverter" />
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid>
        <!-- Kamera bileÅŸeni -->
        <scanner:CameraView
            x:Name="barcodeScanner"
            CameraEnabled="True"
            VibrationOnDetected="False"
            OnDetectionFinished="CameraView_OnDetectionFinished"
            HorizontalOptions="Fill"
            VerticalOptions="Fill" />

        <!-- ðŸ”” GeÃ§ici barkod mesajÄ± -->
        <Label Text="{Binding InfoMessage}"
               TextColor="White"
               BackgroundColor="Black"
               FontSize="Medium"
               Padding="10"
               Margin="20"
               HorizontalOptions="Center"
               VerticalOptions="Start"
               Opacity="0.85"
               IsVisible="{Binding InfoMessage, Converter={StaticResource StringNotNullConverter}}" />

        <!-- ðŸ”¦ IÅŸÄ±k aÃ§/kapa butonu - ÃœST TARAFA TAÅžINDI -->
        <Button Text="ðŸ’¡ IÅŸÄ±k"
                x:Name="torchButton"
                Clicked="TorchButton_Clicked"
                BackgroundColor="#3B82F6"
                TextColor="White"
                WidthRequest="100"
                HeightRequest="50"
                FontSize="16"
                FontAttributes="Bold"
                CornerRadius="25"
                HorizontalOptions="Start"
                VerticalOptions="Start"
                Margin="20,80,0,0"
                Shadow="{Shadow Brush=Black, Radius=10, Opacity=0.5}" />

       
        <Button Text="âœ– Kapat"
                x:Name="closeButton"
                Clicked="CloseButton_Clicked"
                BackgroundColor="#EF4444"
                TextColor="White"
                WidthRequest="120"
                HeightRequest="50"
                FontSize="16"
                FontAttributes="Bold"
                CornerRadius="25"
                HorizontalOptions="Center"
                VerticalOptions="Start"
                Margin="0,80,0,0"
                Shadow="{Shadow Brush=Black, Radius=10, Opacity=0.5}" />
    </Grid>
</ContentPage>